{"ast":null,"code":"import axios from \"axios\";\nexport const getAllMovies = async () => {\n  const res = await axios.get(\"/movie\").catch(err => console.log(err));\n  if (res.status !== 200) {\n    return console.log(\"No Data\");\n  }\n  const data = await res.data;\n  return data;\n};\nexport const sendUserAuthRequest = async (data, signup) => {\n  const res = await axios.post(`/user/${signup ? \"signup\" : \"login\"}`, {\n    name: signup ? data.name : \"\",\n    email: data.email,\n    password: data.password\n  }).catch(err => console.log(err));\n  if (res.status !== 200 && res.status !== 201) {\n    console.log(\"Unexpected Error Occured\");\n  }\n  const resData = await res.data;\n  return resData;\n};\nexport const sendAdminAuthRequest = async data => {\n  const res = await axios.post(\"/admin/login\", {\n    email: data.email,\n    password: data.password\n  }).catch(err => console.log(err));\n  if (res.status !== 200) {\n    return console.log(\"Unexpected Error\");\n  }\n  const resData = await res.data;\n  return resData;\n};\nexport const getMovieDetails = async id => {\n  const res = await axios.get(`/movie/${id}`).catch(err => console.log(err));\n  if (res.status !== 200) {\n    return console.log(\"Unexpected error occured\");\n  }\n  const resData = await res.data;\n  return resData;\n};\nexport const newBooking = async data => {\n  const res = await axios.post(\"/booking\", {\n    movie: data.movie,\n    seatNumber: data.seatNumber,\n    date: data.date,\n    user: localStorage.getItem(\"userId\")\n  }).catch(err => console.log(err));\n  if (res.status !== 201) {\n    return console.log(\"Unexpected Error Occured\");\n  }\n  const resData = await res.data;\n  return resData;\n};\nexport const getUserBooking = async () => {\n  const id = localStorage.getItem(\"userId\");\n  const res = await axios.get(`/user/bookings/${id}`).catch(err => console.log(err));\n  if (res.status !== 200) {\n    return console.log(\"Unexpected Error Occured\");\n  }\n  const resData = await res.data;\n  return resData;\n};\nexport const deleteBooking = async id => {\n  const res = await axios.delete(`/booking/${id}`).catch(err => console.log(err));\n  if (res.status !== 200) {\n    return console.log(\"Unexpected Error Occured\");\n  }\n  const resData = await res.data;\n  return resData;\n};\nexport const getUserDetails = async () => {\n  const id = localStorage.getItem(\"userId\");\n  const res = await axios.get(`/user/${id}`).catch(err => console.log(err));\n  if (res.status !== 200) {\n    return console.log(\"Unexpected Error Occured\");\n  }\n  const resData = await res.data;\n  return resData;\n};\nexport const addMovie = async data => {\n  const res = await axios.post(\"/movie\", {\n    title: data.title,\n    description: data.description,\n    releaseDate: data.releaseDate,\n    posterUrl: data.posterUrl,\n    fetaured: data.fetaured,\n    actors: data.actors,\n    admin: localStorage.getItem(\"adminId\")\n  }, {\n    headers: {\n      Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n    }\n  }).catch(err => console.log(err));\n  if (res.status !== 201) {\n    return console.log(\"Unexpected Error Occurred\");\n  }\n  const resData = await res.data;\n  return resData;\n};","map":{"version":3,"names":["axios","getAllMovies","res","get","catch","err","console","log","status","data","sendUserAuthRequest","signup","post","name","email","password","resData","sendAdminAuthRequest","getMovieDetails","id","newBooking","movie","seatNumber","date","user","localStorage","getItem","getUserBooking","deleteBooking","delete","getUserDetails","addMovie","title","description","releaseDate","posterUrl","fetaured","actors","admin","headers","Authorization"],"sources":["C:/Users/bs511/Desktop/Movie Booking/movies/src/api-helpers/api-helpers.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nexport const getAllMovies = async () => {\r\n  const res = await axios.get(\"/movie\").catch((err) => console.log(err));\r\n\r\n  if (res.status !== 200) {\r\n    return console.log(\"No Data\");\r\n  }\r\n\r\n  const data = await res.data;\r\n  return data;\r\n};\r\n\r\nexport const sendUserAuthRequest = async (data, signup) => {\r\n  const res = await axios\r\n    .post(`/user/${signup ? \"signup\" : \"login\"}`, {\r\n      name: signup ? data.name : \"\",\r\n      email: data.email,\r\n      password: data.password,\r\n    })\r\n    .catch((err) => console.log(err));\r\n\r\n  if (res.status !== 200 && res.status !== 201) {\r\n    console.log(\"Unexpected Error Occured\");\r\n  }\r\n\r\n  const resData = await res.data;\r\n  return resData;\r\n};\r\n\r\nexport const sendAdminAuthRequest = async (data) => {\r\n  const res = await axios\r\n    .post(\"/admin/login\", {\r\n      email: data.email,\r\n      password: data.password,\r\n    })\r\n    .catch((err) => console.log(err));\r\n\r\n  if (res.status !== 200) {\r\n    return console.log(\"Unexpected Error\");\r\n  }\r\n\r\n  const resData = await res.data;\r\n  return resData;\r\n};\r\n\r\nexport const getMovieDetails = async (id) => {\r\n  const res = await axios.get(`/movie/${id}`).catch((err) => console.log(err));\r\n  if (res.status !== 200) {\r\n    return console.log(\"Unexpected error occured\");\r\n  }\r\n  const resData = await res.data;\r\n  return resData;\r\n};\r\n\r\nexport const newBooking = async (data) => {\r\n  const res = await axios\r\n    .post(\"/booking\", {\r\n      movie: data.movie,\r\n      seatNumber: data.seatNumber,\r\n      date: data.date,\r\n      user: localStorage.getItem(\"userId\"),\r\n    })\r\n    .catch((err) => console.log(err));\r\n\r\n  if (res.status !== 201) {\r\n    return console.log(\"Unexpected Error Occured\");\r\n  }\r\n\r\n  const resData = await res.data;\r\n  return resData;\r\n};\r\n\r\nexport const getUserBooking = async () => {\r\n  const id = localStorage.getItem(\"userId\");\r\n  const res = await axios\r\n    .get(`/user/bookings/${id}`)\r\n    .catch((err) => console.log(err));\r\n\r\n  if (res.status !== 200) {\r\n    return console.log(\"Unexpected Error Occured\");\r\n  }\r\n\r\n  const resData = await res.data;\r\n\r\n  return resData;\r\n};\r\n\r\nexport const deleteBooking = async (id) => {\r\n  const res = await axios\r\n    .delete(`/booking/${id}`)\r\n    .catch((err) => console.log(err));\r\n\r\n  if (res.status !== 200) {\r\n    return console.log(\"Unexpected Error Occured\");\r\n  }\r\n\r\n  const resData = await res.data;\r\n  return resData;\r\n};\r\n\r\nexport const getUserDetails = async () => {\r\n  const id = localStorage.getItem(\"userId\");\r\n  const res = await axios.get(`/user/${id}`).catch((err) => console.log(err));\r\n\r\n  if (res.status !== 200) {\r\n    return console.log(\"Unexpected Error Occured\");\r\n  }\r\n  const resData = await res.data;\r\n  return resData;\r\n};\r\n\r\nexport const addMovie = async (data) => {\r\n  const res = await axios\r\n    .post(\r\n      \"/movie\",\r\n      {\r\n        title: data.title,\r\n        description: data.description,\r\n        releaseDate: data.releaseDate,\r\n        posterUrl: data.posterUrl,\r\n        fetaured: data.fetaured,\r\n        actors: data.actors,\r\n        admin: localStorage.getItem(\"adminId\"),\r\n      },\r\n      {\r\n        headers: {\r\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n        },\r\n      }\r\n    )\r\n    .catch((err) => console.log(err));\r\n\r\n  if (res.status !== 201) {\r\n    return console.log(\"Unexpected Error Occurred\");\r\n  }\r\n\r\n  const resData = await res.data;\r\n  return resData;\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}