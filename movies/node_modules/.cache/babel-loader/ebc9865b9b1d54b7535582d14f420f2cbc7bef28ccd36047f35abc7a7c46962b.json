{"ast":null,"code":"import _defineProperty from\"C:/Users/bs511/Desktop/Movie Booking/movies/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/bs511/Desktop/Movie Booking/movies/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/bs511/Desktop/Movie Booking/movies/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{Fragment,useEffect,useState}from\"react\";import{Form,useParams}from\"react-router-dom\";import{getMovieDetails,newBooking}from\"../../api-helpers/api-helpers\";import{Box,Button,FormLabel,TextField,Typography}from\"@mui/material\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var Booking=function Booking(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),movie=_useState2[0],setMovie=_useState2[1];var _useState3=useState({seatNumber:\"\",date:\"\"}),_useState4=_slicedToArray(_useState3,2),inputs=_useState4[0],setInputs=_useState4[1];var id=useParams().id;console.log(id);useEffect(function(){getMovieDetails(id).then(function(res){return setMovie(res.movie);}).catch(function(err){return console.log(err);});},[id]);var handleChange=function handleChange(e){setInputs(function(prevState){return _objectSpread(_objectSpread({},prevState),{},_defineProperty({},e.target.name,e.target.value));});};var handleSubmit=function handleSubmit(e){e.preventDefault();console.log(inputs);newBooking(_objectSpread(_objectSpread({},inputs),{},{movie:movie._id})).then(function(res){return console.log(res);}).catch(function(err){return console.log(err);});};return/*#__PURE__*/_jsx(\"div\",{children:movie&&/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsxs(Typography,{padding:3,fontFamily:\"fantasy\",variant:\"h4\",textAlign:\"center\",children:[\"Book Tickets of Movie : \",movie.title]}),/*#__PURE__*/_jsxs(Box,{display:\"flex\",justifyContent:\"center\",children:[/*#__PURE__*/_jsxs(Box,{display:\"flex\",justifyContent:\"column\",flex:true,flexDirection:\"column\",paddingTop:3,width:\"50%\",marginRight:\"auto\",children:[/*#__PURE__*/_jsx(\"img\",{width:\"80%\",height:\"300px\",src:movie.posterUrl,alt:movie.title}),/*#__PURE__*/_jsxs(Box,{width:\"80%\",marginTop:3,padding:2,children:[/*#__PURE__*/_jsx(Typography,{paddingTop:2,children:movie.description}),/*#__PURE__*/_jsxs(Typography,{fontWeight:\"bold\",marginTop:1,children:[\"Starrer:\",movie.actors.map(function(actor){return\" \"+actor+\" \";})]}),/*#__PURE__*/_jsxs(Typography,{fontWeight:\"bold\",marginTop:1,children:[\"Release Date:\",new Date(movie.releaseDate).toDateString()]})]})]}),/*#__PURE__*/_jsx(Box,{width:\"50%\",paddingTop:3,children:/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(Box,{padding:5,margin:\"auto\",display:\"flex\",flexDirection:\"column\",children:[/*#__PURE__*/_jsx(FormLabel,{children:\"Seat Number\"}),/*#__PURE__*/_jsx(TextField,{value:inputs.seatNumber,onChange:handleChange,name:\"seatNumber\",type:\"number\",margin:\"normal\",variant:\"standard\"}),/*#__PURE__*/_jsx(FormLabel,{children:\"Booking Date\"}),/*#__PURE__*/_jsx(TextField,{name:\"date\",type:\"date\",margin:\"normal\",variant:\"standard\",value:inputs.date,onChange:handleChange}),/*#__PURE__*/_jsx(Button,{type:\"submit\",sx:{mt:3},children:\"Book Now\"})]})})})]})]})});};export default Booking;","map":{"version":3,"names":["React","Fragment","useEffect","useState","Form","useParams","getMovieDetails","newBooking","Box","Button","FormLabel","TextField","Typography","jsxs","_jsxs","jsx","_jsx","Booking","_useState","_useState2","_slicedToArray","movie","setMovie","_useState3","seatNumber","date","_useState4","inputs","setInputs","id","console","log","then","res","catch","err","handleChange","e","prevState","_objectSpread","_defineProperty","target","name","value","handleSubmit","preventDefault","_id","children","padding","fontFamily","variant","textAlign","title","display","justifyContent","flex","flexDirection","paddingTop","width","marginRight","height","src","posterUrl","alt","marginTop","description","fontWeight","actors","map","actor","Date","releaseDate","toDateString","onSubmit","margin","onChange","type","sx","mt"],"sources":["C:/Users/bs511/Desktop/Movie Booking/movies/src/components/Bookings/Booking.js"],"sourcesContent":["import React, { Fragment, useEffect, useState } from \"react\";\r\nimport { Form, useParams } from \"react-router-dom\";\r\nimport { getMovieDetails, newBooking } from \"../../api-helpers/api-helpers\";\r\nimport { Box, Button, FormLabel, TextField, Typography } from \"@mui/material\";\r\n\r\nconst Booking = () => {\r\n  const [movie, setMovie] = useState();\r\n  const [inputs, setInputs] = useState({ seatNumber: \"\", date: \"\" });\r\n  const id = useParams().id;\r\n  console.log(id);\r\n  useEffect(() => {\r\n    getMovieDetails(id)\r\n      .then((res) => setMovie(res.movie))\r\n      .catch((err) => console.log(err));\r\n  }, [id]);\r\n  const handleChange = (e) => {\r\n    setInputs((prevState) => ({\r\n      ...prevState,\r\n      [e.target.name]: e.target.value,\r\n    }));\r\n  };\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    console.log(inputs);\r\n    newBooking({ ...inputs, movie: movie._id })\r\n      .then((res) => console.log(res))\r\n      .catch((err) => console.log(err));\r\n  };\r\n  return (\r\n    <div>\r\n      {movie && (\r\n        <Fragment>\r\n          <Typography\r\n            padding={3}\r\n            fontFamily=\"fantasy\"\r\n            variant=\"h4\"\r\n            textAlign={\"center\"}\r\n          >\r\n            Book Tickets of Movie : {movie.title}\r\n          </Typography>\r\n          <Box display={\"flex\"} justifyContent={\"center\"}>\r\n            <Box\r\n              display={\"flex\"}\r\n              justifyContent={\"column\"}\r\n              flex\r\n              flexDirection={\"column\"}\r\n              paddingTop={3}\r\n              width=\"50%\"\r\n              marginRight={\"auto\"}\r\n            >\r\n              <img\r\n                width=\"80%\"\r\n                height={\"300px\"}\r\n                src={movie.posterUrl}\r\n                alt={movie.title}\r\n              />\r\n              <Box width={\"80%\"} marginTop={3} padding={2}>\r\n                <Typography paddingTop={2}>{movie.description}</Typography>\r\n                <Typography fontWeight={\"bold\"} marginTop={1}>\r\n                  Starrer:\r\n                  {movie.actors.map((actor) => \" \" + actor + \" \")}\r\n                </Typography>\r\n                <Typography fontWeight={\"bold\"} marginTop={1}>\r\n                  Release Date:{new Date(movie.releaseDate).toDateString()}\r\n                </Typography>\r\n              </Box>\r\n            </Box>\r\n            <Box width={\"50%\"} paddingTop={3}>\r\n              <form onSubmit={handleSubmit}>\r\n                <Box\r\n                  padding={5}\r\n                  margin={\"auto\"}\r\n                  display={\"flex\"}\r\n                  flexDirection={\"column\"}\r\n                >\r\n                  <FormLabel>Seat Number</FormLabel>\r\n                  <TextField\r\n                    value={inputs.seatNumber}\r\n                    onChange={handleChange}\r\n                    name=\"seatNumber\"\r\n                    type={\"number\"}\r\n                    margin=\"normal\"\r\n                    variant=\"standard\"\r\n                  />\r\n                  <FormLabel>Booking Date</FormLabel>\r\n                  <TextField\r\n                    name=\"date\"\r\n                    type={\"date\"}\r\n                    margin=\"normal\"\r\n                    variant=\"standard\"\r\n                    value={inputs.date}\r\n                    onChange={handleChange}\r\n                  />\r\n                  <Button type=\"submit\" sx={{ mt: 3 }}>\r\n                    Book Now\r\n                  </Button>\r\n                </Box>\r\n              </form>\r\n            </Box>\r\n          </Box>\r\n        </Fragment>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Booking;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}