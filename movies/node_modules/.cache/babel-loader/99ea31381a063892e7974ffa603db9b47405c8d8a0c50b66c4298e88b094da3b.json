{"ast":null,"code":"import _slicedToArray from\"C:/Users/bs511/Desktop/Movie Booking/movies/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{Fragment,useEffect,useState}from\"react\";import{deleteBooking,getUserBooking,getUserDetails}from\"../api-helpers/api-helpers\";import{Box,IconButton,List,ListItem,ListItemText,Typography}from\"@mui/material\";import AccountCircleIcon from\"@mui/icons-material/AccountCircle\";import DeleteIcon from\"@mui/icons-material/Delete\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UserProfile=function UserProfile(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),bookings=_useState2[0],setBookings=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),user=_useState4[0],setUser=_useState4[1];useEffect(function(){getUserBooking().then(function(res){return setBookings(res.bookings);}).catch(function(err){return console.log(err);});getUserDetails().then(function(res){return setUser(res.user);}).catch(function(err){return console.log(err);});},[]);var handleDelete=function handleDelete(id){deleteBooking(id).then(function(res){return console.log(res);}).catch(function(err){return console.log(err);});};return/*#__PURE__*/_jsx(Box,{width:\"100%\",display:\"flex\",children:/*#__PURE__*/_jsxs(Fragment,{children:[\" \",user&&/*#__PURE__*/_jsxs(Box,{flexDirection:\"column\",justifyContent:\"center\",alignItems:\"center\",width:\"30%\",padding:3,children:[/*#__PURE__*/_jsx(AccountCircleIcon,{sx:{fontSize:\"10rem\",textAlign:\"center\",ml:3}}),/*#__PURE__*/_jsxs(Typography,{padding:1,width:\"auto\",textAlign:\"center\",border:\"1px solid #ccc\",borderRadius:6,children:[\"Name:\",user.name]}),/*#__PURE__*/_jsxs(Typography,{mt:1,padding:1,width:\"auto\",textAlign:\"center\",border:\"1px solid #ccc\",borderRadius:6,children:[\"Email:\",user.email]})]}),bookings&&/*#__PURE__*/_jsxs(Box,{width:\"70%\",display:\"flex\",flexDirection:\"column\",children:[/*#__PURE__*/_jsx(Typography,{variant:\"h3\",fontFamily:\"verdana\",textAlign:\"center\",padding:2,children:\"Bookings\"}),/*#__PURE__*/_jsx(Box,{margin:\"auto\",display:\"flex\",flexDirection:\"column\",width:\"80%\",children:/*#__PURE__*/_jsx(List,{children:bookings.map(function(booking,index){return/*#__PURE__*/_jsxs(ListItem,{sx:{bgcolor:\"#00d386\",color:\"white\",textAlign:\"center\",margin:1},children:[/*#__PURE__*/_jsxs(ListItemText,{sx:{margin:1,width:\"auto\",textAlign:\"left\"},children:[\"Movie: \",booking.movie.title]}),/*#__PURE__*/_jsxs(ListItemText,{sx:{margin:1,width:\"auto\",textAlign:\"left\"},children:[\"Seat: \",booking.seatNumber]}),/*#__PURE__*/_jsxs(ListItemText,{sx:{margin:1,width:\"auto\",textAlign:\"left\"},children:[\"Date: \",new Date(booking.date).toDateString()]}),/*#__PURE__*/_jsx(IconButton,{onClick:function onClick(){return handleDelete(booking._id);},color:\"error\",children:/*#__PURE__*/_jsx(DeleteIcon,{color:\"red\"})})]});})})})]})]})});};export default UserProfile;","map":{"version":3,"names":["React","Fragment","useEffect","useState","deleteBooking","getUserBooking","getUserDetails","Box","IconButton","List","ListItem","ListItemText","Typography","AccountCircleIcon","DeleteIcon","jsx","_jsx","jsxs","_jsxs","UserProfile","_useState","_useState2","_slicedToArray","bookings","setBookings","_useState3","_useState4","user","setUser","then","res","catch","err","console","log","handleDelete","id","width","display","children","flexDirection","justifyContent","alignItems","padding","sx","fontSize","textAlign","ml","border","borderRadius","name","mt","email","variant","fontFamily","margin","map","booking","index","bgcolor","color","movie","title","seatNumber","Date","date","toDateString","onClick","_id"],"sources":["C:/Users/bs511/Desktop/Movie Booking/movies/src/Profile/UserProfile.js"],"sourcesContent":["import React, { Fragment, useEffect, useState } from \"react\";\r\nimport {\r\n  deleteBooking,\r\n  getUserBooking,\r\n  getUserDetails,\r\n} from \"../api-helpers/api-helpers\";\r\nimport {\r\n  Box,\r\n  IconButton,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  Typography,\r\n} from \"@mui/material\";\r\nimport AccountCircleIcon from \"@mui/icons-material/AccountCircle\";\r\nimport DeleteIcon from \"@mui/icons-material/Delete\";\r\n\r\nconst UserProfile = () => {\r\n  const [bookings, setBookings] = useState();\r\n  const [user, setUser] = useState();\r\n  useEffect(() => {\r\n    getUserBooking()\r\n      .then((res) => setBookings(res.bookings))\r\n      .catch((err) => console.log(err));\r\n\r\n    getUserDetails()\r\n      .then((res) => setUser(res.user))\r\n      .catch((err) => console.log(err));\r\n  }, []);\r\n  const handleDelete = (id) => {\r\n    deleteBooking(id)\r\n      .then((res) => console.log(res))\r\n      .catch((err) => console.log(err));\r\n  };\r\n  return (\r\n    <Box width={\"100%\"} display=\"flex\">\r\n      <Fragment>\r\n        {\" \"}\r\n        {user && (\r\n          <Box\r\n            flexDirection={\"column\"}\r\n            justifyContent=\"center\"\r\n            alignItems={\"center\"}\r\n            width={\"30%\"}\r\n            padding={3}\r\n          >\r\n            <AccountCircleIcon\r\n              sx={{ fontSize: \"10rem\", textAlign: \"center\", ml: 3 }}\r\n            />\r\n            <Typography\r\n              padding={1}\r\n              width={\"auto\"}\r\n              textAlign={\"center\"}\r\n              border={\"1px solid #ccc\"}\r\n              borderRadius={6}\r\n            >\r\n              Name:{user.name}\r\n            </Typography>\r\n            <Typography\r\n              mt={1}\r\n              padding={1}\r\n              width={\"auto\"}\r\n              textAlign={\"center\"}\r\n              border={\"1px solid #ccc\"}\r\n              borderRadius={6}\r\n            >\r\n              Email:{user.email}\r\n            </Typography>\r\n          </Box>\r\n        )}\r\n        {bookings &&  (\r\n          <Box width={\"70%\"} display=\"flex\" flexDirection={\"column\"}>\r\n            <Typography\r\n              variant=\"h3\"\r\n              fontFamily={\"verdana\"}\r\n              textAlign=\"center\"\r\n              padding={2}\r\n            >\r\n              Bookings\r\n            </Typography>\r\n            <Box\r\n              margin={\"auto\"}\r\n              display={\"flex\"}\r\n              flexDirection={\"column\"}\r\n              width={\"80%\"}\r\n            >\r\n              <List>\r\n                {bookings.map((booking, index) => (\r\n                  <ListItem\r\n                    sx={{\r\n                      bgcolor: \"#00d386\",\r\n                      color: \"white\",\r\n                      textAlign: \"center\",\r\n                      margin: 1,\r\n                    }}\r\n                  >\r\n                    <ListItemText\r\n                      sx={{ margin: 1, width: \"auto\", textAlign: \"left\" }}\r\n                    >\r\n                      Movie: {booking.movie.title}\r\n                    </ListItemText>\r\n                    <ListItemText\r\n                      sx={{ margin: 1, width: \"auto\", textAlign: \"left\" }}\r\n                    >\r\n                      Seat: {booking.seatNumber}\r\n                    </ListItemText>\r\n                    <ListItemText\r\n                      sx={{ margin: 1, width: \"auto\", textAlign: \"left\" }}\r\n                    >\r\n                      Date: {new Date(booking.date).toDateString()}\r\n                    </ListItemText>\r\n\r\n                    <IconButton\r\n                      onClick={() => handleDelete(booking._id)}\r\n                      color=\"error\"\r\n                    >\r\n                      <DeleteIcon color=\"red\" />\r\n                    </IconButton>\r\n                  </ListItem>\r\n                ))}\r\n              </List>\r\n            </Box>\r\n          </Box>\r\n        )}\r\n      </Fragment>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default UserProfile;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}